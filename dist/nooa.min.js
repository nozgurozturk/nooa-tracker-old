!function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var t=function(){return(t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function e(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function n(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var r=["Windows 3.11","Windows 95","Windows 98","Windows 2000","Windows XP","Windows Server 2003","Windows Vista","Windows 7","Windows 8","Windows 8.1","Windows 10","Windows ME","Open BSD","Sun OS","Linux","Mac OS","QNX","BeOS","OS/2","Chrome OS"],i=["iOS","Android OS","BlackBerry OS","Windows Mobile","Amazon OS"],o={aol:"AOL",edge:"Edge","edge-ios":"Edge (iOS)",yandexbrowser:"Yandex",kakaotalk:"KKaoTalk",samsung:"Samsung",silk:"Silk",miui:"MIUI",beaker:"Beaker","edge-chromium":"Edge (Chromium)",chrome:"Chrome","chromium-webview":"Chrome (webview)",phantomjs:"PhantomJS",crios:"Chrome (iOS)",firefox:"Firefox",fxios:"Firefox (iOS)","opera-mini":"Opera Mini",opera:"Opera",ie:"IE",bb10:"BlackBerry 10",android:"Android",ios:"iOS",safari:"Safari",facebook:"Facebook",instagram:"Instagram","ios-webview":"iOS (webview)",searchbot:"Searchbot"},a="trc",s="data-nooa-uuid",c="data-nooa-host",u="data-nooa-no-track",d="data-nooa-tag",f="data-nooa-type",l=function(){function t(t){var e=t.WebSiteUuid,n=t.Host,r=t.NoTrack,i=void 0!==r&&r;this.WebSiteUuid=e,this.Host=n,this.NoTrack=i}return t.prototype.validateConfigs=function(){if(!this.WebSiteUuid)throw new ValidationError("Empty web site uuid");if(!this.Host)throw new ValidationError("Empty server url");return this},t}();function h(t,e,n){try{var r=void 0;if(t&&e)(r=new l({WebSiteUuid:t,Host:new URL(e),NoTrack:n})).validateConfigs();else{var i=function(){var t,e,n,r=null===(t=document.querySelector("script["+s+"]"))||void 0===t?void 0:t.getAttribute(s),i=(null===(e=document.querySelector("script["+c+"]"))||void 0===e?void 0:e.getAttribute(c))||"",o=null===(n=document.querySelector("script["+u+"]"))||void 0===n?void 0:n.getAttribute(u);return{WebSiteUuid:r||"",Host:new URL(i)||"",NoTrack:Boolean(o)}}();r=new l(i).validateConfigs()}return r}catch(t){return console.error(t),t}}var w=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],v=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(t){var e=function(t){return""!==t&&w.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}(t);return e?e[0]:null}var m=function(t,e,n){this.device=t,this.os=e,this.browser=n};function b(t){return function(t){for(var e=0,n=v.length;e<n;e++){var r=v[e],i=r[0];if(r[1].exec(t))return i}return null}(t)}function y(t){var e=b(t),n=function(t){var e=p(t);return e?o[e]:""}(t),a=function(t){if(t){if(i.includes(t))return"mobile";if(r.includes(t))return"desktop"}return null}(e);return new m(a,e,n)}var g=function(){function t(){}return t.setItem=function(t,e){if(!t)throw new ValidationError("Empty key of store item");if(!e)throw new ValidationError("Empty data of store item");var n=JSON.stringify(e);if(!n)throw new ValidationError("Invalid JSON data from "+t+" item");sessionStorage.setItem(t,n)},t.getItem=function(t){if(!t)throw new ValidationError("Empty key of store item");var e=sessionStorage.getItem(t);if(!e)throw new NotFoundError(t+" not found in store");return JSON.parse(e)},t.removeItem=function(t){if(!t)throw new ValidationError("Empty key of store item");sessionStorage.removeItem(t)},t}(),S=function(t,e,n){this.ip=t,this.location=e,this.agent=n};function k(){return e(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch("https://www.cloudflare.com/cdn-cgi/trace")];case 1:return[4,t.sent().text()];case 2:return[2,t.sent()];case 3:return[2,t.sent()];case 4:return[2]}}))}))}function O(){return e(this,void 0,void 0,(function(){var t,e,r,i;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,k()];case 1:return t=n.sent(),e=function(t){if(!t)throw new ValidationError("Empty trace text");var e=t.split("\n"),n=new Map;return e.forEach((function(t){var e=t.split("="),r=e[0],i=e[1];"ts"===r&&(i=i.replace(".","")),n.set(r,i)})),Object.fromEntries(n)}(t),r=y(navigator.userAgent),i=new S(e.ip,e.loc,r),g.setItem(a,i),[2,i];case 2:return[2,n.sent()];case 3:return[2]}}))}))}var W=function(t,e,n,r){this.event_detail=t,this.page=e,this.type=n,this.tag=r};function E(t,e){try{if(!t)throw new ValidationError("Event type is required");var n=g.getItem(a),r=window.location.pathname;return new W(n,r,t,e)}catch(t){return t}}var I=function(t){var e=t.websiteId,n=t.type,r=t.page,i=t.event_detail,o=t.tag;this.websiteId=e,this.event_detail=i,this.page=r,this.event_detail=i,this.tag=o,this.type=n},x=function(){function r(t){this.eventItems=[],this.config=t,this.detectMutation()}return r.prototype.sendEvent=function(t){return e(this,void 0,void 0,(function(){var e;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),(e=this.config.Host).pathname="api/analytics/collect",[4,fetch(e.href,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:return n.sent(),[3,3];case 2:return[2,n.sent()];case 3:return[2]}}))}))},r.prototype.trackEvent=function(r,i){return e(this,void 0,void 0,(function(){var e,o;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=new I(t({websiteId:this.config.WebSiteUuid},E(r,i))),[4,this.sendEvent(e)];case 1:return n.sent(),[3,3];case 2:return o=n.sent(),console.error(o),[3,3];case 3:return[2]}}))}))},r.prototype.trackEventItems=function(){var t=this,e=document.querySelectorAll("*["+f+"]"),n=[];e.forEach((function(e){var r=e.getAttribute(f),i=e.getAttribute(d),o=function(){t.trackEvent(r,i)};e.addEventListener(r,o,!0);var a={type:r,tag:i,listener:o,element:e};n.push(a)})),this.eventItems=n},r.prototype.unTrackEventItems=function(){this.eventItems.length>0||(this.eventItems.forEach((function(t){t.element.removeEventListener(t.type,t.listener,!0)})),this.eventItems=[])},r.prototype.mutationCallback=function(t,e){var n=this;t.forEach((function(t){"childList"===t.type&&(n.unTrackEventItems(),n.trackEventItems())}))},r.prototype.detectMutation=function(){return new MutationObserver(this.mutationCallback.bind(this)).observe(document.body,{childList:!0}),this},r}(),B=function(){function t(){}return Object.defineProperty(t.prototype,"config",{get:function(){if(!this.configuration)throw new ValidationError("Empty configration");return this.configuration},set:function(t){try{var e=t.WebSiteUuid,n=t.Host,r=t.NoTrack,i=h(e,n.toString(),r);this.configuration=i}catch(t){console.error(t)}},enumerable:!1,configurable:!0}),t.prototype.initializeTracker=function(){try{return this.tracker=new x(this.configuration),this}catch(t){console.error(t)}},t.prototype.trackView=function(){var t,e;return(null===(t=this.configuration)||void 0===t?void 0:t.NoTrack)||null===(e=this.tracker)||void 0===e||e.trackEvent("view"),this},t.prototype.track=function(t,e){var n;null===(n=this.tracker)||void 0===n||n.trackEvent(t,e)},t.prototype.set=function(t,r,i){return e(this,void 0,void 0,(function(){var e;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.config=t&&r?h(t,r,i):h(),[4,O()];case 1:return n.sent(),this.initializeTracker(),this.trackView(),[3,3];case 2:return e=n.sent(),console.error(e),[3,3];case 3:return[2]}}))}))},t}();!function(t){if(!t.noaa){var e=new B;e.set(),t.noaa=e}}(window)}();
